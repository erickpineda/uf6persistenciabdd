group 'net.erickpineda'
version '1.0-SNAPSHOT'

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'idea'

sourceCompatibility = 1.8

repositories {
    jcenter()
}

dependencies {
    compile('mysql:mysql-connector-java:5.1.38')
    compile('org.hibernate:hibernate-entitymanager:5.1.0.Final')
    compile('org.eclipse.persistence:javax.persistence:2.1.1')
    compile('org.eclipse.persistence:eclipselink:2.6.3-M1')
    testCompile group: 'junit', name: 'junit', version: '4.12'
}


compileJava.options.encoding = 'UTF-8'

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

task mybuild(type: Jar, dependsOn: [':compileJava', ':processResources']) {
    from files(sourceSets.main.output.classesDir)
    from configurations.runtime.asFileTree.files.collect {zipTree(it)}
    from sourceSets.main.allSource
    classifier='sources'
    manifest {
        attributes 'Main-Class': 'net.erickpineda.barcos.App'
    }
}
